{"version":3,"sources":["state/ImageState.ts","components/Header/Header.tsx","state/ErrorsState.ts","utils/fileHandling/addJsonFile.ts","helpers/addId.ts","utils/fileHandling/fileHandling.ts","utils/fileHandling/addImageFile.ts","components/Header/HeaderСontainer.tsx","img/Spinner.svg","components/Card/Card.tsx","components/Main/Main.tsx","components/Main/MainСontainer.tsx","App.tsx","state/store.ts","index.tsx"],"names":["imagesState","createSlice","name","initialState","galleryImages","id","url","width","height","newImageUrl","drag","reducers","addImageUrl","state","data","imageData","payload","length","push","addListImage","writeImageUrl","setDrag","deleteImage","newGalleryImages","filter","item","actions","Header","inputFileUpload","errorText","inputTextOnChangeHandler","addImageFileHandler","addImageUrlHandler","className","type","onChange","value","placeholder","htmlFor","onClick","ref","errorsState","errorKey","changeTheErrorText","addJsonFile","file","dispatch","reader","FileReader","readAsText","onload","e","target","text","result","JSON","parse","map","index","Date","now","addId","fileHandling","startsWith","img","Image","src","window","URL","createObjectURL","addImageFile","HeaderСontainer","useSelector","imagesReducer","errorsReducer","useRef","useDispatch","event","current","files","onerror","Card","image","cardDeleteHandler","useState","load","setLoad","style","flexGrow","undefined","alt","background","Main","mainDate","imagesData","dragStartHandler","dragLeaveHandler","onDropHandler","onDragStart","onDragLeave","onDragOver","onDrop","MainСontainer","preventDefault","stopPropagation","dataTransfer","forEach","App","store","configureStore","reducer","imagesStateReducer","errorsStateReducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fb30df7c.chunk.js","sourcesContent":["/* eslint-disable no-param-reassign */\nimport { createSlice } from '@reduxjs/toolkit';\n\nexport type ImageType = {\n  id: number;\n  url: string;\n  width: number;\n  height: number;\n};\n\ninterface ImagesState {\n  galleryImages: ImageType[];\n  newImageUrl: string;\n  drag: boolean;\n}\nconst initialState: ImagesState = {\n  galleryImages: [\n    {\n      id: 1,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550746.jpg',\n      width: 640,\n      height: 426,\n    },\n    {\n      id: 2,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964007.jpg',\n      width: 1920,\n      height: 1200,\n    },\n    {\n      id: 3,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550739.jpg',\n      width: 640,\n      height: 426,\n    },\n    {\n      id: 4,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964009.jpg',\n      width: 436,\n      height: 650,\n    },\n    {\n      id: 5,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550740.jpg',\n      width: 600,\n      height: 400,\n    },\n    {\n      id: 6,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964008.jpg',\n      width: 509,\n      height: 339,\n    },\n    {\n      id: 7,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964011.jpg',\n      width: 900,\n      height: 450,\n    },\n    {\n      id: 8,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550755.jpg',\n      width: 480,\n      height: 640,\n    },\n    {\n      id: 9,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964013.jpg',\n      width: 472,\n      height: 640,\n    },\n    {\n      id: 10,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550745.jpg',\n      width: 640,\n      height: 425,\n    },\n    {\n      id: 11,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964014.jpg',\n      width: 240,\n      height: 320,\n    },\n    {\n      id: 12,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964016.jpg',\n      width: 540,\n      height: 337,\n    },\n    {\n      id: 13,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964020.jpg',\n      width: 1600,\n      height: 1000,\n    },\n    {\n      id: 14,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964010.jpg',\n      width: 1506,\n      height: 575,\n    },\n    {\n      id: 15,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/493550754.jpg',\n      width: 1280,\n      height: 1276,\n    },\n    {\n      id: 16,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964021.jpg',\n      width: 1280,\n      height: 800,\n    },\n    {\n      id: 17,\n      url: 'https://don16obqbay2c.cloudfront.net/frontend-test-task/images/448964012.jpg',\n      width: 787,\n      height: 787,\n    },\n  ],\n  newImageUrl: '',\n  drag: false,\n};\n\nconst imagesState = createSlice({\n  name: 'images',\n  initialState,\n\n  reducers: {\n    addImageUrl(state, data) {\n      const imageData = {\n        id: data.payload.id,\n        url: state.newImageUrl,\n        width: data.payload.width,\n        height: data.payload.height,\n      };\n      if (imageData.url.length !== 0) {\n        state.galleryImages.push(imageData);\n        state.newImageUrl = '';\n      }\n    },\n\n    addListImage(state, data) {\n      state.galleryImages = [...state.galleryImages, ...data.payload];\n    },\n    writeImageUrl(state, data) {\n      state.newImageUrl = data.payload;\n    },\n    setDrag(state, data) {\n      state.drag = data.payload;\n    },\n    deleteImage(state, data) {\n      const newGalleryImages = state.galleryImages.filter(\n        (item) => item.id !== data.payload,\n      );\n      // console.log(newGalleryImages);\n      state.galleryImages = newGalleryImages;\n    },\n  },\n});\n\nexport default imagesState.reducer;\n\nexport const {\n  writeImageUrl,\n  addImageUrl,\n  addListImage,\n  setDrag,\n  deleteImage,\n} = imagesState.actions;\n","import React from 'react';\n\ntype HeaderPropsType = {\n  data: {\n    inputFileUpload: React.RefObject<HTMLInputElement>;\n    newImageUrl: string;\n    errorText:string;\n    inputTextOnChangeHandler: (\n      event: React.ChangeEvent<HTMLInputElement>,\n    ) => void;\n    addImageFileHandler: () => void;\n    addImageUrlHandler: () => void;\n  };\n};\n\nexport default function Header({ data }: HeaderPropsType) {\n  const {\n    inputFileUpload, newImageUrl, errorText,\n    inputTextOnChangeHandler,\n    addImageFileHandler,\n\n    addImageUrlHandler,\n  } = data;\n\n  return (\n    <header className=\"header\">\n      <div className=\"header-wrap\">\n        <input\n          className=\"header__input\"\n          type=\"text\"\n          onChange={inputTextOnChangeHandler}\n          value={newImageUrl}\n          placeholder=\"Введите Url или загрузите файл картинки\"\n        />\n        <label\n          htmlFor={newImageUrl ? 'header__url-upload' : 'header__file-upload'}\n          className=\"header__upload-label\"\n        >\n          {newImageUrl ? (\n            <input\n              className=\"header__btn\"\n              id=\"header__url-upload\"\n              type=\"button\"\n              onClick={addImageUrlHandler}\n            />\n          ) : (\n            <input\n              className=\"header__btn\"\n              id=\"header__file-upload\"\n              type=\"file\"\n              ref={inputFileUpload}\n              onChange={addImageFileHandler}\n            />\n          )}\n          Добавить картинку\n        </label>\n      </div>\n      <p className=\"header__error\">{errorText}</p>\n    </header>\n  );\n}\n","/* eslint-disable no-param-reassign */\nimport { createSlice } from '@reduxjs/toolkit';\n\ninterface ErrorsState {\n  errorKey:number;\n  errorText:string;\n\n}\nconst initialState:ErrorsState = {\n  errorKey: 0,\n  errorText: '',\n\n};\n\nconst errorsState = createSlice({\n  name: 'errors',\n  initialState,\n\n  reducers: {\n    changeTheErrorText(state, data) {\n      switch (data.payload) {\n        case 'ERROR_0':\n          state.errorText = '';\n          break;\n        case 'ERROR_1':\n          state.errorText = 'Файл не поддерживается или поврежден!';\n          break;\n        case 'ERROR_2':\n          state.errorText = 'Не правильный или поврежденный URL адрес!';\n          break;\n\n        default:\n          state.errorText = '';\n          break;\n      }\n    },\n  },\n});\n\nexport default errorsState.reducer;\n\nexport const { changeTheErrorText } = errorsState.actions;\n","import { Dispatch } from '@reduxjs/toolkit';\nimport { addId } from '../../helpers/addId';\nimport { addListImage } from '../../state/ImageState';\n\nexport default function addJsonFile(file: File, dispatch: Dispatch<any>) {\n  const reader = new FileReader();\n  reader.readAsText(file);\n  reader.onload = (e) => {\n    if (e.target) {\n      const text = e.target.result;\n\n      if (typeof text === 'string') {\n        const imageData = JSON.parse(text);\n\n        dispatch(addListImage(addId(imageData.galleryImages)));\n      }\n    }\n  };\n}\n","export type ImageType = {\n  id?:number\n  url: string;\n  width?: number;\n  height?: number;\n};\n\nexport function addId(imageData:ImageType[]) {\n  return imageData.map((item, index) => {\n    const id = Date.now() + index;\n    return { ...item, id };\n  });\n}\n","import { Dispatch } from '@reduxjs/toolkit';\nimport { changeTheErrorText } from '../../state/ErrorsState';\nimport addImageFile from './addImageFile';\nimport addJsonFile from './addJsonFile';\n\nexport default function fileHandling(file: File, dispatch:Dispatch<any>) {\n  dispatch(changeTheErrorText('ERROR_0'));\n\n  if (file.type.startsWith('image/')) {\n    addImageFile(file, dispatch);\n  } else if (file.type === 'application/json') {\n    addJsonFile(file, dispatch);\n  } else {\n    dispatch(changeTheErrorText('ERROR_1'));\n  }\n}\n","import { Dispatch } from '@reduxjs/toolkit';\nimport { addImageUrl, writeImageUrl } from '../../state/ImageState';\n\nexport default function addImageFile(file: File, dispatch: Dispatch<any>) {\n  const img = new Image();\n\n  img.src = window.URL.createObjectURL(file);\n\n  img.onload = () => {\n    dispatch(writeImageUrl(img.src));\n    dispatch(addImageUrl({ id: Date.now(), width: img.width, height: img.height }));\n    // window.URL.revokeObjectURL(img.src);\n  };\n}\n","import React, { useRef } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addId } from '../../helpers/addId';\n\nimport addImageFile from '../../utils/fileHandling/addImageFile';\n\nimport {\n  addImageUrl,\n  addListImage,\n  writeImageUrl,\n} from '../../state/ImageState';\nimport { RootState } from '../../state/store';\nimport Header from './Header';\nimport fileHandling from '../../utils/fileHandling/fileHandling';\nimport { changeTheErrorText } from '../../state/ErrorsState';\n\nexport default function HeaderСontainer() {\n  const newImageUrl = useSelector(\n    (state: RootState) => state.imagesReducer.newImageUrl,\n  );\n\n  const errorText = useSelector(\n    (state: RootState) => state.errorsReducer.errorText,\n  );\n  const inputFileUpload = useRef<HTMLInputElement>(null);\n\n  const dispatch = useDispatch();\n\n  function inputTextOnChangeHandler(\n    event: React.ChangeEvent<HTMLInputElement>,\n  ) {\n    dispatch(writeImageUrl(event.target.value));\n  }\n\n  function addImageUrlHandler() {\n    dispatch(changeTheErrorText('ERROR_0'));\n\n    const img = new Image();\n\n    img.onload = () => {\n      dispatch(\n        addImageUrl({ id: Date.now(), width: img.width, height: img.height }),\n      );\n    };\n\n    img.onerror = () => {\n      dispatch(changeTheErrorText('ERROR_2'));\n      dispatch(writeImageUrl(''));\n    };\n    img.src = newImageUrl;\n  }\n\n  function addImageFileHandler() {\n    if (inputFileUpload.current && inputFileUpload.current.files) {\n      const file = inputFileUpload.current.files[0];\n      inputFileUpload.current.value = '';\n\n      if (file) {\n        fileHandling(file, dispatch);\n      }\n    }\n  }\n\n  const data = {\n    inputFileUpload,\n    newImageUrl,\n    errorText,\n    inputTextOnChangeHandler,\n    addImageFileHandler,\n    addImageUrlHandler,\n  };\n\n  return <Header data={data} />;\n}\n","export default __webpack_public_path__ + \"static/media/Spinner.619f5e3e.svg\";","import React, { useState } from 'react';\nimport placeholder from '../../img/Spinner.svg';\n\ntype CardPropsType = {\n  image: { id: number; url: string; width: number; height: number };\n  cardDeleteHandler: (id: number) => void;\n};\n\nexport default function Card({ image, cardDeleteHandler }: CardPropsType) {\n  const [load, setLoad] = useState(false);\n  const img = new Image();\n\n  img.src = image.url;\n  img.onload = () => {\n    setLoad(true);\n  };\n\n  return (\n    <div\n      className=\"card\"\n      key={image.id}\n      style={{ flexGrow: +`${image.width / image.height}` }}\n    >\n\n      <img\n        className=\"card__img\"\n        src={load ? image.url : undefined}\n        alt=\"\"\n        width={image.width}\n        height={image.height}\n        style={load ? { background: 'none' } : { background: `url(${placeholder}) no-repeat center` }}\n      />\n\n      <div className=\"card__wrap-btn\">\n        <button\n          type=\"button\"\n          className=\"card__wrap-btn_delete\"\n          onClick={() => cardDeleteHandler(image.id)}\n        >\n          Удалить\n        </button>\n      </div>\n\n    </div>\n  );\n}\n","import React from 'react';\nimport Card from '../Card/Card';\n\ntype MainPropsType = {\n  mainDate: {\n    imagesData: {\n      id: number;\n      url: string;\n      width: number;\n      height: number;\n    }[];\n    drag: boolean;\n    dragStartHandler: (e: React.DragEvent<HTMLDivElement>) => void;\n    dragLeaveHandler: (e: React.DragEvent<HTMLDivElement>) => void;\n    onDropHandler: (e: React.DragEvent<HTMLDivElement>) => void;\n    cardDeleteHandler: (id: number) => void;\n  };\n};\n\nexport default function Main({ mainDate }: MainPropsType) {\n  const {\n    imagesData,\n    drag,\n    dragStartHandler,\n    dragLeaveHandler,\n    onDropHandler,\n    cardDeleteHandler,\n  } = mainDate;\n\n  return (\n    <main\n      className={drag ? 'main drop-area' : 'main'}\n      onDragStart={dragStartHandler}\n      onDragLeave={dragLeaveHandler}\n      onDragOver={dragStartHandler}\n      onDrop={onDropHandler}\n    >\n      {imagesData.map((image) => (\n        <Card\n          image={image}\n          cardDeleteHandler={cardDeleteHandler}\n          key={image.id}\n        />\n      ))}\n      <div className=\"card\" />\n    </main>\n  );\n}\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { deleteImage, setDrag } from '../../state/ImageState';\nimport { RootState } from '../../state/store';\nimport fileHandling from '../../utils/fileHandling/fileHandling';\n\nimport Main from './Main';\n\nexport default function MainСontainer() {\n  const imagesData = useSelector(\n    (state: RootState) => state.imagesReducer.galleryImages,\n  );\n  const drag = useSelector((state: RootState) => state.imagesReducer.drag);\n  const dispatch = useDispatch();\n\n  function dragStartHandler(e: React.DragEvent<HTMLElement>) {\n    e.preventDefault();\n    e.stopPropagation();\n    dispatch(setDrag(true));\n  }\n\n  function dragLeaveHandler(e: React.DragEvent<HTMLElement>) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const target = e.target as HTMLElement;\n\n    if (target.className === 'card') return;\n    dispatch(setDrag(false));\n  }\n\n  function onDropHandler(e: React.DragEvent<HTMLDivElement>) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    const files = [...e.dataTransfer.files];\n\n    files.forEach((file) => fileHandling(file, dispatch));\n    dispatch(setDrag(false));\n  }\n\n  function cardDeleteHandler(id:number) {\n    dispatch(deleteImage(id));\n  }\n\n  const mainDate = {\n    imagesData,\n    drag,\n    dragStartHandler,\n    dragLeaveHandler,\n    onDropHandler,\n    cardDeleteHandler,\n  };\n\n  return <Main mainDate={mainDate} />;\n}\n","import React from 'react';\n\nimport './App.scss';\nimport HeaderСontainer from './components/Header/HeaderСontainer';\nimport MainСontainer from './components/Main/MainСontainer';\n\nexport default function App() {\n  return (\n    <div className=\"app\">\n      <HeaderСontainer />\n      <MainСontainer />\n    </div>\n  );\n}\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport imagesStateReducer from './ImageState';\nimport errorsStateReducer from './ErrorsState';\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport const store = configureStore({\n  reducer: {\n    imagesReducer: imagesStateReducer,\n    errorsReducer: errorsStateReducer,\n  },\n\n});\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport { store } from './state/store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}